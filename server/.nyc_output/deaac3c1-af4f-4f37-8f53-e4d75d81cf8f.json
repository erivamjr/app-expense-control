{"/home/erivam/Documentos/Rocketseat/app-expense-control/server/src/controllers/category.control.ts":{"path":"/home/erivam/Documentos/Rocketseat/app-expense-control/server/src/controllers/category.control.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":59}},"2":{"start":{"line":4,"column":24},"end":{"line":4,"column":60}},"3":{"start":{"line":5,"column":18},"end":{"line":5,"column":45}},"4":{"start":{"line":6,"column":25},"end":{"line":9,"column":1}},"5":{"start":{"line":7,"column":27},"end":{"line":7,"column":79}},"6":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":44}},"8":{"start":{"line":11,"column":23},"end":{"line":20,"column":1}},"9":{"start":{"line":12,"column":4},"end":{"line":12,"column":26}},"10":{"start":{"line":13,"column":19},"end":{"line":13,"column":63}},"11":{"start":{"line":14,"column":4},"end":{"line":16,"column":5}},"12":{"start":{"line":15,"column":8},"end":{"line":15,"column":57}},"13":{"start":{"line":17,"column":39},"end":{"line":17,"column":50}},"14":{"start":{"line":18,"column":27},"end":{"line":18,"column":89}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":39}},"16":{"start":{"line":21,"column":0},"end":{"line":21,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":25},"end":{"line":6,"column":26}},"loc":{"start":{"line":6,"column":45},"end":{"line":9,"column":1}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":23},"end":{"line":11,"column":24}},"loc":{"start":{"line":11,"column":43},"end":{"line":20,"column":1}},"line":11}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":4},"end":{"line":16,"column":5}},"type":"if","locations":[{"start":{"line":14,"column":4},"end":{"line":16,"column":5}},{"start":{"line":14,"column":4},"end":{"line":16,"column":5}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":2,"6":2,"7":1,"8":1,"9":3,"10":3,"11":3,"12":1,"13":2,"14":2,"15":2,"16":1},"f":{"0":2,"1":3},"b":{"0":[1,2]},"inputSourceMap":{"version":3,"file":"/home/erivam/Documentos/Rocketseat/app-expense-control/server/src/controllers/category.control.ts","sources":["/home/erivam/Documentos/Rocketseat/app-expense-control/server/src/controllers/category.control.ts"],"names":[],"mappings":";;;AACA,6DAA2F;AAC3F,8CAAkD;AAE3C,MAAM,gBAAgB,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;IACpE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,MAAM,IAAA,uCAAuB,GAAE,CAAC;IACvD,OAAO,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACrC,CAAC,CAAA;AAHY,QAAA,gBAAgB,oBAG5B;AAEM,MAAM,cAAc,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;IAClE,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAEtB,MAAM,MAAM,GAAG,wBAAc,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAElD,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;QACnB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;KAClD;IAED,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,QAAQ,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC;IAE/C,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,MAAM,IAAA,qCAAqB,EAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;IAEjE,OAAO,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAErC,CAAC,CAAA;AAfY,QAAA,cAAc,kBAe1B","sourcesContent":["import { Response, Request } from \"express\";\nimport { createCategoryService, getAllCategoriesService } from \"../services/category.serv\";\nimport { CategorySchema } from '../utils/schemas';\n\nexport const getAllCategories = async (req: Request, res: Response) => {\n  const { code, resp } = await getAllCategoriesService();\n  return res.status(code).json(resp);\n}\n\nexport const createCategory = async (req: Request, res: Response) => {\n  console.log(req.body);\n\n  const result = CategorySchema.safeParse(req.body);\n\n  if (!result.success) {\n    return res.status(400).json(result.error.issues);\n  }\n\n  const { user: { id }, category } = result.data;\n\n  const { code, resp } = await createCategoryService(category, id);\n\n  return res.status(code).json(resp);\n\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2cb3a1d3c15897944707d893d6c24d93e4ed4f13","contentHash":"648999739a3b804d8b190f518dae2f6423e2ff8ece1a9243d5be1539c4c7dc8d"},"/home/erivam/Documentos/Rocketseat/app-expense-control/server/src/services/category.serv.ts":{"path":"/home/erivam/Documentos/Rocketseat/app-expense-control/server/src/services/category.serv.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":73}},"2":{"start":{"line":4,"column":23},"end":{"line":4,"column":56}},"3":{"start":{"line":5,"column":32},"end":{"line":10,"column":1}},"4":{"start":{"line":6,"column":17},"end":{"line":6,"column":66}},"5":{"start":{"line":7,"column":4},"end":{"line":8,"column":79}},"6":{"start":{"line":8,"column":8},"end":{"line":8,"column":79}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":37}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":58}},"9":{"start":{"line":12,"column":30},"end":{"line":18,"column":1}},"10":{"start":{"line":13,"column":17},"end":{"line":13,"column":76}},"11":{"start":{"line":14,"column":4},"end":{"line":15,"column":79}},"12":{"start":{"line":15,"column":8},"end":{"line":15,"column":79}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":22}},"14":{"start":{"line":17,"column":4},"end":{"line":17,"column":37}},"15":{"start":{"line":19,"column":0},"end":{"line":19,"column":54}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":32},"end":{"line":5,"column":33}},"loc":{"start":{"line":5,"column":44},"end":{"line":10,"column":1}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":30},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":54},"end":{"line":18,"column":1}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":4},"end":{"line":8,"column":79}},"type":"if","locations":[{"start":{"line":7,"column":4},"end":{"line":8,"column":79}},{"start":{"line":7,"column":4},"end":{"line":8,"column":79}}],"line":7},"1":{"loc":{"start":{"line":14,"column":4},"end":{"line":15,"column":79}},"type":"if","locations":[{"start":{"line":14,"column":4},"end":{"line":15,"column":79}},{"start":{"line":14,"column":4},"end":{"line":15,"column":79}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":2,"6":1,"7":1,"8":1,"9":1,"10":2,"11":2,"12":1,"13":1,"14":1,"15":1},"f":{"0":2,"1":2},"b":{"0":[1,1],"1":[1,1]},"inputSourceMap":{"version":3,"file":"/home/erivam/Documentos/Rocketseat/app-expense-control/server/src/services/category.serv.ts","sources":["/home/erivam/Documentos/Rocketseat/app-expense-control/server/src/services/category.serv.ts"],"names":[],"mappings":";;;AAAA,yDAAoF;AAE7E,MAAM,uBAAuB,GAAG,KAAK,IAAI,EAAE;IAChD,MAAM,IAAI,GAAG,MAAM,IAAA,oCAAqB,GAAE,CAAC;IAC3C,IAAI,CAAC,IAAI;QAAE,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,6BAA6B,EAAE,EAAE,CAAA;IACjF,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;AACnC,CAAC,CAAA;AAJY,QAAA,uBAAuB,2BAInC;AAEM,MAAM,qBAAqB,GAAG,KAAK,EAAE,QAAgB,EAAE,EAAU,EAAE,EAAE;IAC1E,MAAM,IAAI,GAAG,MAAM,IAAA,kCAAmB,EAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;IACrD,IAAI,CAAC,IAAI;QAAE,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,6BAA6B,EAAE,EAAE,CAAA;IACjF,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAElB,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;AACnC,CAAC,CAAA;AANY,QAAA,qBAAqB,yBAMjC","sourcesContent":["import { createCategoryModel, getAllCategoriesModel } from '../models/category.mod';\n\nexport const getAllCategoriesService = async () => {\n  const data = await getAllCategoriesModel();\n  if (!data) return { code: 404, resp: { message: 'Error of response try again' } }\n  return { code: 200, resp: data };\n}\n\nexport const createCategoryService = async (category: string, id: string) => {\n  const data = await createCategoryModel(category, id);\n  if (!data) return { code: 404, resp: { message: 'Error of response try again' } }\n  console.log(data);\n\n  return { code: 201, resp: data };\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"14b3a2b290144ea1077c6e1d4b89a5c868ff45df","contentHash":"3fe1665149109f64378c2d52c95bf8ade82dd57ef0af5c7e1f12c25c4c0d8dc3"},"/home/erivam/Documentos/Rocketseat/app-expense-control/server/src/models/category.mod.ts":{"path":"/home/erivam/Documentos/Rocketseat/app-expense-control/server/src/models/category.mod.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":69}},"2":{"start":{"line":4,"column":22},"end":{"line":4,"column":54}},"3":{"start":{"line":5,"column":30},"end":{"line":8,"column":1}},"4":{"start":{"line":6,"column":21},"end":{"line":6,"column":79}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":16}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":54}},"7":{"start":{"line":10,"column":28},"end":{"line":16,"column":1}},"8":{"start":{"line":11,"column":21},"end":{"line":14,"column":33}},"9":{"start":{"line":15,"column":4},"end":{"line":15,"column":16}},"10":{"start":{"line":17,"column":0},"end":{"line":17,"column":50}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":30},"end":{"line":5,"column":31}},"loc":{"start":{"line":5,"column":42},"end":{"line":8,"column":1}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":28},"end":{"line":10,"column":29}},"loc":{"start":{"line":10,"column":52},"end":{"line":16,"column":1}},"line":10}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/erivam/Documentos/Rocketseat/app-expense-control/server/src/models/category.mod.ts","sources":["/home/erivam/Documentos/Rocketseat/app-expense-control/server/src/models/category.mod.ts"],"names":[],"mappings":";;;AAAA,uDAA6C;AAEtC,MAAM,qBAAqB,GAAG,KAAK,IAAI,EAAE;IAC9C,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,kBAAI,CAAC,KAAK,CAAC,0BAA0B,CAAQ,CAAC;IACrE,OAAO,IAAI,CAAC;AACd,CAAC,CAAC;AAHW,QAAA,qBAAqB,yBAGhC;AAEK,MAAM,mBAAmB,GAAG,KAAK,EAAE,QAAgB,EAAE,EAAU,EAAE,EAAE;IACxE,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,kBAAI,CAAC,KAAK,CAC/B;;;gBAGY,EACZ,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAQ,CAAC;IACzB,OAAO,IAAI,CAAC;AACd,CAAC,CAAC;AARW,QAAA,mBAAmB,uBAQ9B","sourcesContent":["import { pool } from \"../config/connections\";\n\nexport const getAllCategoriesModel = async () => {\n  const { rows } = await pool.query(`SELECT * FROM categories`) as any;\n  return rows;\n};\n\nexport const createCategoryModel = async (category: string, id: string) => {\n  const { rows } = await pool.query(\n    `INSERT INTO \n      categories (category, user_id) \n    VALUES ($1, $2) \n    RETURNING *`,\n    [category, id]) as any;\n  return rows;\n};"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c2ba4a108117666dcf69008181efcf8ece47c697","contentHash":"bd169efc59b2652ea6d269729a413f0ab3b8b93b5470b1504c0a13a8e5be099b"},"/home/erivam/Documentos/Rocketseat/app-expense-control/server/src/config/connections.ts":{"path":"/home/erivam/Documentos/Rocketseat/app-expense-control/server/src/config/connections.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":22}},"2":{"start":{"line":4,"column":13},"end":{"line":4,"column":26}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":27}},"4":{"start":{"line":6,"column":0},"end":{"line":8,"column":3}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/erivam/Documentos/Rocketseat/app-expense-control/server/src/config/connections.ts","sources":["/home/erivam/Documentos/Rocketseat/app-expense-control/server/src/config/connections.ts"],"names":[],"mappings":";;;AAAA,2BAA0B;AAC1B,OAAO,CAAC,QAAQ,CAAC,CAAC,MAAM,EAAE,CAAC;AAEd,QAAA,IAAI,GAAG,IAAI,SAAI,CAAC;IAC3B,gBAAgB,EAAE,gBAAgB,OAAO,CAAC,GAAG,CAAC,aAAa,IAAI,OAAO,CAAC,GAAG,CAAC,iBAAiB,IAAI,OAAO,CAAC,GAAG,CAAC,aAAa,IAAI,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE;CACvJ,CAAC,CAAC","sourcesContent":["import { Pool } from 'pg';\nrequire('dotenv').config();\n\nexport const pool = new Pool({\n  connectionString: `postgresql://${process.env.POSTGRES_USER}:${process.env.POSTGRES_PASSWORD}@${process.env.POSTGRES_HOST}/${process.env.POSTGRES_DB}`,\n});\n\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"31cbd106e18a1cc129abd267a28a7fd612a1b0d7","contentHash":"f4025a67ef01753dc92a87276baef6308afbfd7b6a427181fa2dfa8109747266"},"/home/erivam/Documentos/Rocketseat/app-expense-control/server/src/utils/schemas.ts":{"path":"/home/erivam/Documentos/Rocketseat/app-expense-control/server/src/utils/schemas.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":129}},"2":{"start":{"line":4,"column":14},"end":{"line":4,"column":28}},"3":{"start":{"line":5,"column":0},"end":{"line":13,"column":14}},"4":{"start":{"line":14,"column":0},"end":{"line":31,"column":3}},"5":{"start":{"line":32,"column":0},"end":{"line":41,"column":3}},"6":{"start":{"line":42,"column":0},"end":{"line":47,"column":3}},"7":{"start":{"line":48,"column":0},"end":{"line":51,"column":28}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/erivam/Documentos/Rocketseat/app-expense-control/server/src/utils/schemas.ts","sources":["/home/erivam/Documentos/Rocketseat/app-expense-control/server/src/utils/schemas.ts"],"names":[],"mappings":";;;AAAA,6BAAwB;AAEX,QAAA,cAAc,GAAG,OAAC,CAAC,MAAM,CAAC;IACrC,IAAI,EAAE,OAAC,CAAC,MAAM,CAAC;QACb,EAAE,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE;KACtB,CAAC,CAAC,QAAQ,EAAE;IACb,QAAQ,EAAE,OAAC,CAAC,MAAM,CAAC;QACjB,cAAc,EAAE,sBAAsB;QACtC,kBAAkB,EAAE,2BAA2B;KAChD,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,OAAO,EAAE,mCAAmC,EAAE,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC;CACpE,CAAC,CAAC,QAAQ,EAAE,CAAC;AAED,QAAA,kBAAkB,GAAG,OAAC,CAAC,MAAM,CAAC;IACzC,KAAK,EAAE,OAAC,CAAC,MAAM,CAAC;QACd,cAAc,EAAE,mBAAmB;QACnC,kBAAkB,EAAE,wBAAwB;KAC7C,CAAC;IACF,IAAI,EAAE,OAAC,CAAC,MAAM,CAAC;QACb,cAAc,EAAE,kBAAkB;QAClC,kBAAkB,EAAE,uBAAuB;KAC5C,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC;IACjB,MAAM,EAAE,OAAC,CAAC,MAAM,CAAC;QACf,cAAc,EAAE,oBAAoB;QACpC,kBAAkB,EAAE,yBAAyB;KAC9C,CAAC;IACF,QAAQ,EAAE,OAAC,CAAC,MAAM,CAAC;QACjB,cAAc,EAAE,sBAAsB;QACtC,kBAAkB,EAAE,2BAA2B;KAChD,CAAC;CACH,CAAC,CAAC;AAIU,QAAA,WAAW,GAAG,OAAC,CAAC,MAAM,CAAC;IAClC,KAAK,EAAE,OAAC,CAAC,MAAM,CAAC;QACd,cAAc,EAAE,mBAAmB;QACnC,kBAAkB,EAAE,wBAAwB;KAC7C,CAAC,CAAC,KAAK,EAAE;IACV,QAAQ,EAAE,OAAC,CAAC,MAAM,CAAC;QACjB,cAAc,EAAE,sBAAsB;QACtC,kBAAkB,EAAE,2BAA2B;KAChD,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC;CAClB,CAAC,CAAC;AAEU,QAAA,UAAU,GAAG,mBAAW,CAAC,MAAM,CAAC;IAC3C,IAAI,EAAE,OAAC,CAAC,MAAM,CAAC;QACb,cAAc,EAAE,kBAAkB;QAClC,kBAAkB,EAAE,uBAAuB;KAC5C,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC;CAClB,CAAC,CAAC;AAEU,QAAA,cAAc,GAAG,kBAAU,CAAC,MAAM,CAAC;IAC9C,EAAE,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE;IACrB,IAAI,EAAE,OAAC,CAAC,MAAM,EAAE;CACjB,CAAC,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC","sourcesContent":["import { z } from 'zod';\n\nexport const CategorySchema = z.object({\n  user: z.object({\n    id: z.string().uuid(),\n  }).required(),\n  category: z.string({\n    required_error: \"Category is required\",\n    invalid_type_error: \"Category must be a string\",\n  }).min(1, { message: \"Must be 1 or more characters long\" }).max(50),\n}).required();\n\nexport const TransactionsSchema = z.object({\n  title: z.string({\n    required_error: \"Title is required\",\n    invalid_type_error: \"Title must be a string\",\n  }),\n  type: z.string({\n    required_error: \"Type is required\",\n    invalid_type_error: \"Type must be a string\",\n  }).min(1).max(50),\n  amount: z.number({\n    required_error: \"Amount is required\",\n    invalid_type_error: \"Amount must be a number\",\n  }),\n  category: z.string({\n    required_error: \"Category is required\",\n    invalid_type_error: \"Category must be a string\",\n  })\n});\n\nexport type TransactionsType = z.infer<typeof TransactionsSchema>;\n\nexport const LoginSchema = z.object({\n  email: z.string({\n    required_error: \"Email is required\",\n    invalid_type_error: \"Email must be a string\",\n  }).email(),\n  password: z.string({\n    required_error: \"Password is required\",\n    invalid_type_error: \"Password must be a string\",\n  }).min(6).max(50),\n});\n\nexport const UserSchema = LoginSchema.extend({\n  name: z.string({\n    required_error: \"Name is required\",\n    invalid_type_error: \"Name must be a string\",\n  }).min(1).max(50),\n});\n\nexport const RegisterSchema = UserSchema.extend({\n  id: z.string().uuid(),\n  role: z.string()\n}).omit({ password: true });\n\nexport type UserType = z.infer<typeof RegisterSchema>;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7fa605859040e22173f6a575389bcb7263ba59bd","contentHash":"7921e723aeac484e604d948fe09e3a60659f480a41520e7b258f44e556b11609"},"/home/erivam/Documentos/Rocketseat/app-expense-control/server/src/models/finance.mod.ts":{"path":"/home/erivam/Documentos/Rocketseat/app-expense-control/server/src/models/finance.mod.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":115}},"2":{"start":{"line":4,"column":22},"end":{"line":4,"column":54}},"3":{"start":{"line":5,"column":22},"end":{"line":8,"column":1}},"4":{"start":{"line":6,"column":21},"end":{"line":6,"column":76}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":16}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":38}},"7":{"start":{"line":10,"column":26},"end":{"line":16,"column":1}},"8":{"start":{"line":11,"column":21},"end":{"line":14,"column":66}},"9":{"start":{"line":15,"column":4},"end":{"line":15,"column":16}},"10":{"start":{"line":17,"column":0},"end":{"line":17,"column":46}},"11":{"start":{"line":18,"column":26},"end":{"line":25,"column":1}},"12":{"start":{"line":19,"column":21},"end":{"line":23,"column":62}},"13":{"start":{"line":24,"column":4},"end":{"line":24,"column":16}},"14":{"start":{"line":26,"column":0},"end":{"line":26,"column":46}},"15":{"start":{"line":27,"column":26},"end":{"line":32,"column":1}},"16":{"start":{"line":28,"column":25},"end":{"line":30,"column":31}},"17":{"start":{"line":31,"column":4},"end":{"line":31,"column":20}},"18":{"start":{"line":33,"column":0},"end":{"line":33,"column":46}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":22},"end":{"line":5,"column":23}},"loc":{"start":{"line":5,"column":34},"end":{"line":8,"column":1}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":26},"end":{"line":10,"column":27}},"loc":{"start":{"line":10,"column":71},"end":{"line":16,"column":1}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":26},"end":{"line":18,"column":27}},"loc":{"start":{"line":18,"column":79},"end":{"line":25,"column":1}},"line":18},"3":{"name":"(anonymous_3)","decl":{"start":{"line":27,"column":26},"end":{"line":27,"column":27}},"loc":{"start":{"line":27,"column":48},"end":{"line":32,"column":1}},"line":27}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":1,"11":1,"12":0,"13":0,"14":1,"15":1,"16":0,"17":0,"18":1},"f":{"0":1,"1":0,"2":0,"3":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/erivam/Documentos/Rocketseat/app-expense-control/server/src/models/finance.mod.ts","sources":["/home/erivam/Documentos/Rocketseat/app-expense-control/server/src/models/finance.mod.ts"],"names":[],"mappings":";;;AAAA,uDAA6C;AAEtC,MAAM,aAAa,GAAG,KAAK,IAAI,EAAE;IACtC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,kBAAI,CAAC,KAAK,CAAC,uBAAuB,CAAQ,CAAC;IAClE,OAAO,IAAI,CAAC;AACd,CAAC,CAAC;AAHW,QAAA,aAAa,iBAGxB;AAEK,MAAM,iBAAiB,GAAG,KAAK,EAAE,KAAa,EAAE,IAAY,EAAE,MAAc,EAAE,QAAgB,EAAE,EAAU,EAAE,EAAE;IACnH,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,kBAAI,CAAC,KAAK,CAC/B;;;gBAGY,EACZ,CAAC,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,IAAI,EAAE,EAAE,EAAE,CAAC,CAAQ,CAAC;IAC1D,OAAO,IAAI,CAAC;AACd,CAAC,CAAA;AARY,QAAA,iBAAiB,qBAQ7B;AAEM,MAAM,iBAAiB,GAAG,KAAK,EAAE,KAAa,EAAE,IAAY,EAAE,MAAc,EAAE,QAAgB,EAAE,EAAU,EAAE,MAAc,EAAE,EAAE;IACnI,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,kBAAI,CAAC,KAAK,CAC/B;;;;gBAIY,EACZ,CAAC,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,EAAE,EAAE,MAAM,CAAC,CAAQ,CAAC;IACtD,OAAO,IAAI,CAAC;AACd,CAAC,CAAA;AATY,QAAA,iBAAiB,qBAS7B;AAEM,MAAM,iBAAiB,GAAG,KAAK,EAAE,EAAU,EAAE,MAAc,EAAE,EAAE;IACpE,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,kBAAI,CAAC,KAAK,CACnC;;gBAEY,EACZ,CAAC,EAAE,EAAE,MAAM,CAAC,CAAQ,CAAC;IACvB,OAAO,QAAQ,CAAC;AAClB,CAAC,CAAA;AAPY,QAAA,iBAAiB,qBAO7B;AAED,8CAA8C;AAE9C,6CAA6C;AAC7C,mEAAmE;AACnE,yBAAyB;AAEzB,wBAAwB;AACxB,KAAK;AAEL,kDAAkD;AAElD,oBAAoB;AACpB,6CAA6C;AAC7C,uEAAuE;AACvE,wBAAwB;AACxB,KAAK","sourcesContent":["import { pool } from '../config/connections';\n\nexport const listMovements = async () => {\n  const { rows } = await pool.query(`SELECT * FROM finance`) as any;\n  return rows;\n};\n\nexport const createTransaction = async (title: string, type: string, amount: number, category: string, id: string) => {\n  const { rows } = await pool.query(\n    `INSERT INTO \n      finance (title, type, amount, category, created_at, id_user) \n    VALUES ($1, $2, $3, $4, $5, $6) \n    RETURNING *`,\n    [title, type, amount, category, new Date(), id]) as any;\n  return rows;\n}\n\nexport const updateTransaction = async (title: string, type: string, amount: number, category: string, id: string, userId: string) => {\n  const { rows } = await pool.query(\n    `UPDATE \n      finance \n    SET title = $1, type = $2, amount = $3, category = $4 \n    WHERE id = $5 AND id_user = $6 \n    RETURNING *`,\n    [title, type, amount, category, id, userId]) as any;\n  return rows;\n}\n\nexport const deleteTransaction = async (id: string, userId: string) => {\n  const { rowCount } = await pool.query(\n    `DELETE FROM \n      finance WHERE id = $1 AND id_user = $2 \n    RETURNING *`,\n    [id, userId]) as any;\n  return rowCount;\n}\n\n// import { db } from '../config/connections';\n\n// export const listMovements = async () => {\n//   const result = await db.query('SELECT * FROM finance') as any;\n//   console.log(result);\n\n//   return result.rows;\n// };\n\n// import { client } from '../config/connections';\n\n// client.connect();\n// export const listMovements = async () => {\n//   const result = await client.query('SELECT * FROM finance') as any;\n//   return result.rows;\n// };"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8c81117a87ceaa5fad12ef2867ebaae2918d0166","contentHash":"d35a0fbfb536eaf001fa782f875326d43fb49071d434d4ea729dc84c237bd19d"}}